(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{63:(e,r,s)=>{"use strict";var t=s(7260);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},3421:(e,r,s)=>{"use strict";s.d(r,{$:()=>i});var t=s(5155),a=s(2115),n=s(2821),o=s(5889);let i=a.forwardRef((e,r)=>{let{className:s,variant:a="default",size:i="md",...l}=e;return(0,t.jsx)("button",{className:function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,o.QP)((0,n.$)(r))}("inline-flex items-center justify-center rounded-lg font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:pointer-events-none disabled:opacity-50",{"gradient-primary text-white hover:opacity-90 shadow-glow":"default"===a,"border-2 border-border hover:bg-card":"outline"===a,"hover:bg-accent/10":"ghost"===a},{"px-4 py-2 text-sm":"sm"===i,"px-6 py-3 text-base":"md"===i,"px-8 py-4 text-lg":"lg"===i},s),ref:r,...l})});i.displayName="Button"},4218:(e,r,s)=>{Promise.resolve().then(s.bind(s,9477))},9477:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var t=s(5155),a=s(2115),n=s(63),o=s(2619),i=s.n(o),l=s(3421),d=s(3586),c=s(5105);let m=(0,c.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),u=(0,c.A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),p=(0,c.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),x=[{id:"ARTIST",name:"Artist",icon:d.A,description:"Upload music and host live sessions",color:"from-purple-500 to-pink-500"},{id:"FAN",name:"Fan",icon:m,description:"Stream music and support artists",color:"from-blue-500 to-cyan-500"},{id:"MERCHANT",name:"Merchant",icon:u,description:"Sell products and equipment",color:"from-green-500 to-emerald-500"},{id:"INFLUENCER",name:"Influencer",icon:p,description:"Promote and earn commissions",color:"from-orange-500 to-red-500"}];function h(){let e=(0,n.useRouter)(),[r,s]=(0,a.useState)(1),[o,c]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",roles:[]}),[m,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),f=async r=>{if(r.preventDefault(),u(""),o.password!==o.confirmPassword)return void u("Passwords do not match");if(0===o.roles.length)return void u("Please select at least one role");h(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,email:o.email,password:o.password,roles:o.roles})}),s=await r.json();if(!r.ok)throw Error(s.error||"Registration failed");e.push("/signin?registered=true")}catch(e){u(e.message||"An error occurred. Please try again.")}finally{h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-2 text-3xl font-bold gradient-text mb-4",children:[(0,t.jsx)(d.A,{className:"w-8 h-8"}),"SoundSync"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Create Your Account"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Join thousands of artists, fans, and creators"})]}),(0,t.jsxs)("div",{className:"bg-card border-border rounded-2xl p-8 shadow-card",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(r>=1?"text-primary":"text-muted-foreground"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center border-2 ".concat(r>=1?"border-primary bg-primary/20":"border-muted"),children:"1"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Account"})]}),(0,t.jsx)("div",{className:"w-16 h-0.5 ".concat(r>=2?"bg-primary":"bg-muted")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(r>=2?"text-primary":"text-muted-foreground"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center border-2 ".concat(r>=2?"border-primary bg-primary/20":"border-muted"),children:"2"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Roles"})]})]}),m&&(0,t.jsx)("div",{className:"bg-destructive/10 border border-destructive text-destructive px-4 py-3 rounded-lg text-sm mb-6",children:m}),(0,t.jsxs)("form",{onSubmit:f,children:[1===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Full Name"}),(0,t.jsx)("input",{id:"name",type:"text",value:o.name,onChange:e=>c(r=>({...r,name:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-input border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition",placeholder:"John Doe"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:o.email,onChange:e=>c(r=>({...r,email:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-input border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition",placeholder:"you@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:o.password,onChange:e=>c(r=>({...r,password:e.target.value})),required:!0,minLength:8,className:"w-full px-4 py-3 bg-input border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition",placeholder:"••••••••"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"At least 8 characters"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:o.confirmPassword,onChange:e=>c(r=>({...r,confirmPassword:e.target.value})),required:!0,className:"w-full px-4 py-3 bg-input border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition",placeholder:"••••••••"})]}),(0,t.jsx)(l.$,{type:"button",onClick:()=>s(2),className:"w-full gradient-primary hover:opacity-90 shadow-glow text-lg py-6",children:"Continue"})]}),2===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Choose Your Role(s)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Select one or more roles. You can add more later with a subscription."}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(e=>{let r=e.icon,s=o.roles.includes(e.id);return(0,t.jsxs)("button",{type:"button",onClick:()=>{var r;return r=e.id,void c(e=>({...e,roles:e.roles.includes(r)?e.roles.filter(e=>e!==r):[...e.roles,r]}))},className:"p-4 rounded-xl border-2 transition-all text-left ".concat(s?"border-primary shadow-glow bg-primary/10":"border-border hover:border-primary/50 bg-card"),children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-3 bg-gradient-to-r ".concat(e.color),children:(0,t.jsx)(r,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("h4",{className:"font-bold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.id)})})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(l.$,{type:"button",onClick:()=>s(1),variant:"outline",className:"flex-1",children:"Back"}),(0,t.jsx)(l.$,{type:"submit",disabled:p||0===o.roles.length,className:"flex-1 gradient-primary hover:opacity-90 shadow-glow",children:p?"Creating account...":"Create Account"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Already have an account? "}),(0,t.jsx)(i(),{href:"/signin",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})})}}},e=>{e.O(0,[619,182,441,255,358],()=>e(e.s=4218)),_N_E=e.O()}]);